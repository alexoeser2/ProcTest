{% from "_formhelpers.html" import render_field %}
{% extends "_layout.html" %}
{% block content %}
<style>
    ul{
       list-style-type: none;
    }
 </style>

<form method="POST" action="{{ url_for('run_test_procedure', procedure_id=procedure_id) }}">
    {{ form.hidden_tag() }}
    <fieldset class="form-group">
        <legend class="border-bottom m-3">Running Test Procedure: {{ procedure_name }}</legend>
        {% for field in form %}
            {% if field.description == "teststep" %}
                <div class="card text-white bg-secondary mb-3" style="max-width: 18rem;">
                    <div class="card-header">{{ steps[ loop.index0 ].name }}</div>
                    <div class="card-body">
                        <h5 class="card-title">Instructions:</h5>
                        <p class="card-text">{{ steps[ loop.index0 ].instructions }}</p>
                        <h5 class="card-title">Pass Condition</h5>
                        <p class="card-text">{{ steps[ loop.index0 ].pass_condition }}</p>
                    </div>
                </div>
                {{ render_field(field) }}
            {% endif %}
        {% endfor %}
    </fieldset>
    <div class="input-group mb-3">
        {{ form.submit(class="btn btn-outline-info") }}
        <a class="btn btn-outline-danger" href="{{url_for('procedure',procedure_id=procedure_id)}}">Cancel</a>
    </div>
</form>

{% endblock content %}
